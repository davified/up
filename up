#!/bin/bash

# Install Java
if ! /usr/libexec/java_home ; then
	javac
	exit 0
fi

# Install Xcode Command-Line Tools
if ! xcode-select -p ; then
	xcode-select --install
	exit 0
fi

# Install homebrew
which brew || /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"

brew doctor || exit $?

# Install tools
brew install \
 autojump \
 fish \
 git \
 node \
 python \
 ruby \
 stow \
 vim
brew install --HEAD tmux

# Make fish the default shell

# Clone dotfiles
[ -d ~/.files ] ||  git clone https://github.com/spinningarrow/.files ~/.files

# Install dotfiles
pushd ~/.files
stow fish
stow git
stow tmux
stow vim
popd
